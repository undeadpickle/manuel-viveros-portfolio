# Manuel Viveros Portfolio

A minimalist, bilingual portfolio website for artist Manuel Viveros showcasing paintings, sculptures, sketches, photography, and travel journals.

Dev Name: Travis Gregory
Client Name: Manuel Viveros

## Quick Reference

```bash
# Development
npm run dev          # Start dev server (port 3000) with Turbopack
npm run sanity       # Start Sanity Studio locally
npm run build        # Production build
npm run typecheck    # TypeScript type checking
npm run lint         # ESLint
```

## Architecture

- **Framework**: Next.js 14+ (App Router)
- **Styling**: Tailwind CSS v4
- **CMS**: Sanity.io (headless)
- **Animations**: Framer Motion
- **Deployment**: Vercel

## Project Structure

```
src/
├── app/
│   ├── [lang]/              # i18n route segment (en/es)
│   │   ├── page.tsx         # Home (server wrapper)
│   │   ├── HomePageClient.tsx  # Home page client component
│   │   ├── paintings/       # Paintings gallery
│   │   ├── sculptures/      # Sculptures gallery
│   │   ├── sketches/        # Sketches gallery
│   │   ├── photography/     # Photography gallery
│   │   ├── journals/        # Journals listing
│   │   │   └── [slug]/      # Individual journal entry
│   │   ├── contact/         # Contact page
│   │   └── layout.tsx       # Lang layout with Header/Footer
│   ├── studio/[[...tool]]/  # Sanity Studio (embedded)
│   │   ├── page.tsx         # NextStudio client component
│   │   └── layout.tsx       # Full-screen layout wrapper
│   ├── layout.tsx           # Root layout (html/body, fonts)
│   └── globals.css          # Global styles + Tailwind
├── components/
│   ├── layout/              # Header, Footer, PageTransition, ScrollToTop
│   ├── gallery/             # ThumbnailGrid, Lightbox, GalleryPage
│   ├── hero/                # HeroSlideshow (homepage)
│   └── ui/                  # SocialLinks, reusable components
├── lib/
│   ├── sanity.ts            # Sanity client, sanityFetch, image helpers
│   ├── queries.ts           # GROQ queries
│   └── i18n.ts              # Internationalization utilities
├── dictionaries/
│   ├── index.ts             # Dictionary loader
│   ├── en.json              # English UI strings
│   └── es.json              # Spanish UI strings
└── middleware.ts            # Locale detection + redirects

sanity/
└── schemas/
    ├── artwork.ts           # Paintings, sculptures, sketches, photography
    ├── journal.ts           # Travel/blog entries
    └── siteSettings.ts      # Global config (contact, social, SEO)

scripts/                     # Content migration scripts (Wix → Sanity)
├── extract-and-download-*.mjs   # Download images from Wix CDN
├── optimize-*.mjs               # Optimize with sharp (2500px, 85% quality)
└── upload-*-to-sanity.mjs       # Bulk upload to Sanity CMS

data/                        # Migration metadata (generated by scripts)
├── *-wix-data.json          # Extracted URLs and metadata from Wix
└── *-metadata.json          # Upload results with Sanity IDs

sanity.config.ts             # Sanity Studio config (basePath: /studio)
```

## Key Patterns

### Bilingual Content

All content is stored with both languages in Sanity:

```typescript
// In Sanity schema
{ name: 'title', type: 'object', fields: [
  { name: 'en', type: 'string' },
  { name: 'es', type: 'string' }
]}

// In components - use helper
import { getLocalizedValue } from '@/lib/i18n'
const title = getLocalizedValue(artwork.title, lang)
```

### URL Routing

- English: `/en/paintings`, `/en/sculptures`, etc.
- Spanish: `/es/paintings`, `/es/sculptures`, etc. (same paths, different lang prefix)
- Middleware auto-redirects `/` → `/en`
- Route translations defined in `src/lib/i18n.ts` (for future localized URLs)

### Gallery Pages

All gallery pages follow the same pattern:

1. Fetch artwork by category from Sanity
2. Display in responsive grid (ThumbnailGrid component)
3. Click opens Lightbox with prev/next navigation

### Hero Slideshow

Full-screen autoplaying slideshow on homepage featuring selected artworks.

**Features:**
- Crossfade transitions with Ken Burns effect (subtle zoom)
- Progress bar indicators
- Pause on hover, keyboard navigation (arrow keys)
- Respects `prefers-reduced-motion`
- CMS toggle to randomize slide order on each page load

**CMS fields (artwork schema):**
- `heroSlide`: Boolean to include artwork in hero
- `heroOrder`: Display order (1-6, only shown when heroSlide is true)

**CMS settings (siteSettings):**
- `heroSlideshow.enabled`: Toggle slideshow on/off
- `heroSlideshow.duration`: Seconds per slide (2-15)
- `heroSlideshow.transitionDuration`: Crossfade duration in ms (300-2000)
- `heroSlideshow.showIndicators`: Show/hide progress bars
- `heroSlideshow.pauseOnHover`: Pause when mouse hovers
- `heroSlideshow.randomizeOrder`: Shuffle slides on each page load

**Limits:** Max 6 slides, images only (no videos)

### Images

Images are served via Sanity CDN with automatic optimization:

```typescript
import { urlFor, getImageUrl, getBlurUrl } from '@/lib/sanity'

// In component
<Image
  src={getImageUrl(artwork.image, 800, 600)}
  placeholder="blur"
  blurDataURL={getBlurUrl(artwork.image)}
/>
```

## Environment Variables

Required in `.env.local`:

```
NEXT_PUBLIC_SANITY_PROJECT_ID=your_project_id
NEXT_PUBLIC_SANITY_DATASET=production
NEXT_PUBLIC_SANITY_API_VERSION=2024-01-01
```

See `.env.example` for full list.

## Sanity Studio

- **Local**: `npm run sanity` or visit `http://localhost:3000/studio`
- **Production**: `https://manuelviveros.art/studio`

### Content Types

- **Artwork**: Paintings, sculptures, sketches, photography (categorized). Includes `heroSlide` and `heroOrder` fields for homepage slideshow.
- **Journal**: Combined travel stories and blog posts
- **Site Settings**: Contact info, social links, artist statement, SEO, hero slideshow settings

## Color Palette

Defined in `globals.css`:

- `--color-ink`: #1a1a1a (near-black)
- `--color-paper`: #fafafa (off-white)
- `--color-accent`: #8b7355 (warm brown/sepia)

## Migration Scripts

Scripts for migrating content from Wix to Sanity. All support `--limit` and `--offset` flags for batch processing.

```bash
# Pattern for each category (paintings, sculptures, sketches):
node scripts/extract-and-download-sketches.mjs --limit 50           # Download batch
node scripts/optimize-sketches.mjs                                   # Optimize all
node scripts/upload-sketches-to-sanity.mjs --offset 0 --limit 50    # Upload batch
```

**Current content counts:**
- Paintings: ~100 artworks
- Sculptures: ~30 artworks
- Sketches: 428 artworks
- Photography: TBD

## Documentation

For detailed docs, see the `docs/` folder:

- `ARCHITECTURE.md` - System design and data flow
- `SANITY_SCHEMAS.md` - CMS schema reference
- `I18N.md` - Internationalization guide
- `DEPLOYMENT.md` - Vercel deployment guide
